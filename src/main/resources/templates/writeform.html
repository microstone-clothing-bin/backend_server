<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" /> <!-- 문자 인코딩 UTF-8 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/> <!-- IE 호환 모드 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 모바일 뷰포트 설정 -->
    <title>게시물 작성</title> <!-- 브라우저 탭 제목 -->
    <link rel="stylesheet" th:href="@{/css/form.css}"/> <!-- CSS 스타일 적용 -->
</head>
<body>
<div class="form-container"> <!-- 폼 전체 컨테이너 -->
    <h1>게시물 작성</h1> <!-- 폼 제목 -->

    <!-- 게시물 작성 폼, POST 방식으로 /write 주소 호출 -->
    <!-- enctype="multipart/form-data": 이미지 파일 전송 가능하게 설정 -->
    <form th:action="@{/write}" method="post" enctype="multipart/form-data">

        <!-- CSRF 보안 토큰 (POST 전송 시 필수) -->
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

        <!-- 작성자 정보 (읽기 전용) -->
        <div>
            <label>작성자:</label>
            <input type="text" th:value="${loginInfo.nickname}" readonly/>
        </div>

        <!-- 게시물 제목 입력 -->
        <div>
            <label for="title">제목:</label>
            <input type="text" id="title" name="title" required />
        </div>

        <!-- 게시물 내용 입력 -->
        <div>
            <label for="content">내용:</label>
            <textarea id="content" name="content" cols="50" rows="10" required></textarea>
        </div>

        <!-- 게시물 이미지 업로드 -->
        <div>
            <label for="image">이미지:</label>
            <input type="file" id="image" name="image" accept="image/*" />
            <!-- accept="image/*": 이미지 파일만 선택 가능 -->
        </div>

        <br>

        <!-- 제출 버튼 -->
        <button type="submit">등록하기</button>
        <!-- 취소 버튼: 게시판 목록 페이지로 이동 -->
        <a th:href="@{/share}" class="btn-cancel">취소</a>
    </form>
</div>
</body>
</html>